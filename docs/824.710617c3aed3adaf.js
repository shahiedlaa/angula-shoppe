"use strict";(self.webpackChunkshopperApp=self.webpackChunkshopperApp||[]).push([[824],{2824:(G,m,c)=>{c.r(m),c.d(m,{ShoppingCartModule:()=>E});var s=c(1368),l=c(5128),g=c(4968),t=c(4496),p=c(4228),u=c(7056);function C(r,o){1&r&&t.wR5(0,"app-loading-spinner")}function h(r,o){1&r&&(t.I0R(0,"div",5)(1,"div",6)(2,"h2"),t.OEk(3,"Order confirmed!"),t.C$Y()()())}function f(r,o){if(1&r&&(t.I0R(0,"tr")(1,"td",25)(2,"div"),t.wR5(3,"img",26),t.C$Y(),t.I0R(4,"p",27),t.OEk(5),t.wVc(6,"titlecase"),t.C$Y()(),t.I0R(7,"td")(8,"span",28),t.OEk(9),t.C$Y()(),t.I0R(10,"td"),t.OEk(11),t.C$Y()()),2&r){const e=o.$implicit;t.yG2(3),t.E7m("src",e.imageUrl,t.K6U),t.yG2(2),t.cNF(t.kDX(6,4,e.name)),t.yG2(4),t.cNF(e.quantity),t.yG2(2),t.oRS(" $",e.quantity*e.price,"")}}function _(r,o){if(1&r&&(t.I0R(0,"div",20)(1,"table",21)(2,"thead")(3,"tr")(4,"th",22),t.OEk(5,"Product"),t.C$Y(),t.I0R(6,"th",23),t.OEk(7,"Quantity"),t.C$Y(),t.I0R(8,"th",23),t.OEk(9,"Total"),t.C$Y()()(),t.I0R(10,"tbody"),t.yuY(11,f,12,6,"tr",24),t.C$Y()()()),2&r){const e=t.GaO(2);t.yG2(11),t.E7m("ngForOf",e.orderedItems)}}function y(r,o){if(1&r&&(t.I0R(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"picture"),t.wR5(5,"source",11)(6,"img",12),t.C$Y()(),t.I0R(7,"div",13)(8,"div",14)(9,"div",15)(10,"h5",16),t.OEk(11,"Order Summary"),t.C$Y(),t.yuY(12,_,12,1,"div",17),t.C$Y(),t.I0R(13,"div",18)(14,"span",19),t.OEk(15),t.C$Y()()()()()()()),2&r){const e=t.GaO();t.yG2(12),t.E7m("ngIf",e.orderedItems.length>0),t.yG2(3),t.oRS("Order total: $",e.total,"")}}let O=(()=>{class r{constructor(e){this.shoppingCartService=e,this.isLoading=!0}ngOnInit(){setTimeout(()=>{this.isLoading=!1},3e3),this.orderedItems=this.shoppingCartService.getOrderItems(),this.orderTotal()}ngOnDestroy(){this.shoppingCartService.resetOrder()}orderTotal(){let e=0;this.orderedItems.forEach(n=>{e+=n.price*n.quantity}),this.total=e}static#t=this.\u0275fac=function(n){return new(n||r)(t.GI1(p.e))};static#e=this.\u0275cmp=t.In1({type:r,selectors:[["app-orders"]],decls:5,vars:3,consts:[[1,"row","whole-section","d-flex"],[2,"text-align","center"],[4,"ngIf"],["class","col-xs-12",4,"ngIf"],["class","row",4,"ngIf"],[1,"col-xs-12"],[1,"order-container","mt-3","d-flex","flex-column","align-items-center"],[1,"row"],[1,"col-xs-6","d-flex","flex-row","justify-content-center"],[1,"order-summary"],[1,"order-summary-image"],["srcset","assets/images/catBox.jpg","media","(min-width:768px)"],["src","assets/images/catBoxMobile.jpg",1,"img-fluid"],[1,"order-summary-card"],[1,"card","order-section"],[1,"card-body"],[1,"card-title"],["class","d-flex justify-content-center",4,"ngIf"],[1,"card-footer"],[2,"margin-left","1rem","font-weight","bold"],[1,"d-flex","justify-content-center"],[1,"table","table-striped","align-middle",2,"width","100%","margin","0.5rem","text-align","center"],["scope","col",2,"text-align","left"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","flex-row","align-items-center",2,"gap","1rem"],["height","50px",2,"border-radius","0.5rem","border","0.2px solid black",3,"src"],[1,"product-name"],[2,"margin","0.65rem","cursor","default"]],template:function(n,i){1&n&&(t.I0R(0,"div",0)(1,"div",1),t.yuY(2,C,1,0,"app-loading-spinner",2),t.C$Y(),t.yuY(3,h,4,0,"div",3),t.C$Y(),t.yuY(4,y,16,2,"div",4)),2&n&&(t.yG2(2),t.E7m("ngIf",i.isLoading),t.yG2(),t.E7m("ngIf",!i.isLoading),t.yG2(),t.E7m("ngIf",!i.isLoading))},dependencies:[u.M,s.ay,s.u_,s.oL],styles:[".product-name[_ngcontent-%COMP%]{margin-top:1rem}.order-summary[_ngcontent-%COMP%]{display:flex;flex-direction:row;border:1px solid gray;border-radius:1rem;overflow:hidden;width:70%;height:80%}.order-summary-image[_ngcontent-%COMP%], .order-summary-card[_ngcontent-%COMP%]{flex:1}.order-summary-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}.order-summary-card[_ngcontent-%COMP%]{display:flex;flex-direction:column}.card.order-section[_ngcontent-%COMP%]{flex:1 1 0}@media (max-width: 768px){.order-summary[_ngcontent-%COMP%]{flex-direction:column;width:90%;height:100%}.order-summary-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:contain}}"]})}return r})();function v(r,o){if(1&r){const e=t.KQA();t.I0R(0,"tr")(1,"td",21)(2,"div"),t.wR5(3,"img",22),t.C$Y(),t.I0R(4,"p",23),t.OEk(5),t.wVc(6,"titlecase"),t.C$Y()(),t.I0R(7,"td"),t.OEk(8),t.C$Y(),t.I0R(9,"td")(10,"button",24),t.qCj("click",function(){const a=t.usT(e).index,d=t.GaO(2);return t.CGJ(d.add(a))}),t.OEk(11,"add"),t.C$Y(),t.I0R(12,"span",25),t.OEk(13),t.C$Y(),t.I0R(14,"button",26),t.qCj("click",function(){const a=t.usT(e).index,d=t.GaO(2);return t.CGJ(d.remove(a))}),t.OEk(15,"remove"),t.C$Y()(),t.I0R(16,"td")(17,"a",27),t.qCj("click",function(){const a=t.usT(e).index,d=t.GaO(2);return t.CGJ(d.removeCart(a))}),t.OEk(18,"delete"),t.C$Y()()()}if(2&r){const e=o.$implicit;t.yG2(3),t.E7m("src",e.imageUrl,t.K6U),t.yG2(2),t.cNF(t.kDX(6,5,e.name)),t.yG2(3),t.oRS("$",e.price,""),t.yG2(5),t.cNF(e.quantity),t.yG2(),t.E7m("disabled",1==e.quantity)}}function x(r,o){if(1&r&&(t.I0R(0,"div",16)(1,"table",17)(2,"thead")(3,"tr")(4,"th",18),t.OEk(5,"Product"),t.C$Y(),t.I0R(6,"th",19),t.OEk(7,"Price"),t.C$Y(),t.I0R(8,"th",19),t.OEk(9,"Quantity"),t.C$Y(),t.I0R(10,"th",19),t.OEk(11,"Action"),t.C$Y()()(),t.I0R(12,"tbody"),t.yuY(13,v,19,7,"tr",20),t.C$Y()()()),2&r){const e=t.GaO();t.yG2(13),t.E7m("ngForOf",e.cart)}}function I(r,o){if(1&r){const e=t.KQA();t.I0R(0,"div",28)(1,"button",29),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.resetCart())}),t.OEk(2,"Reset Cart"),t.C$Y(),t.I0R(3,"button",30),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.pushToOrder())}),t.OEk(4,"Push to Checkout"),t.C$Y()()}}function k(r,o){if(1&r){const e=t.KQA();t.I0R(0,"tr")(1,"td",31)(2,"div"),t.wR5(3,"img",32),t.C$Y(),t.I0R(4,"p",23),t.OEk(5),t.wVc(6,"titlecase"),t.C$Y()(),t.I0R(7,"td"),t.OEk(8),t.C$Y(),t.I0R(9,"td")(10,"span",25),t.OEk(11),t.C$Y()(),t.I0R(12,"td")(13,"a",27),t.qCj("click",function(){const a=t.usT(e).index,d=t.GaO(2);return t.CGJ(d.removeOrder(a))}),t.OEk(14,"delete"),t.C$Y()(),t.I0R(15,"td"),t.OEk(16),t.C$Y()()}if(2&r){const e=o.$implicit;t.yG2(3),t.E7m("src",e.imageUrl,t.K6U),t.yG2(2),t.cNF(t.kDX(6,5,e.name)),t.yG2(3),t.oRS("$",e.price,""),t.yG2(3),t.cNF(e.quantity),t.yG2(5),t.oRS(" $",e.quantity*e.price,"")}}function Y(r,o){if(1&r&&(t.I0R(0,"div",16)(1,"table",17)(2,"thead")(3,"tr")(4,"th",18),t.OEk(5,"Product"),t.C$Y(),t.I0R(6,"th",19),t.OEk(7,"Price"),t.C$Y(),t.I0R(8,"th",19),t.OEk(9,"Quantity"),t.C$Y(),t.I0R(10,"th",19),t.OEk(11,"Action"),t.C$Y(),t.I0R(12,"th",19),t.OEk(13,"Total"),t.C$Y()()(),t.I0R(14,"tbody"),t.yuY(15,k,17,7,"tr",20),t.C$Y()()()),2&r){const e=t.GaO();t.yG2(15),t.E7m("ngForOf",e.orders)}}function b(r,o){1&r&&(t.I0R(0,"p",33),t.OEk(1," Your order section is empty, fill it up with good stuff! "),t.C$Y())}function R(r,o){if(1&r&&(t.I0R(0,"span",34),t.OEk(1),t.C$Y()),2&r){const e=t.GaO();t.yG2(),t.oRS("Order total: $",e.total,"")}}let $=(()=>{class r{constructor(e,n,i){this.cartService=e,this.router=n,this.route=i,this.cart=[],this.orders=[]}ngOnInit(){this.cart=this.cartService.getCartItems(),this.cartService.$cartChange.subscribe(e=>{this.cart=e}),this.orders=this.cartService.getOrderItems(),this.cartService.$orderChange.subscribe(e=>{this.orders=e}),this.orderTotal()}removeCart(e){this.cartService.removeFromShoppingCart(e)}removeOrder(e){this.cartService.removeFromOrder(e),this.orderTotal()}add(e){this.cart[e].quantity++}remove(e){this.cart[e].quantity--,this.orderTotal()}resetCart(){this.cartService.resetCart()}pushToOrder(){this.cartService.ordersChanged(this.orders,this.cart),this.orderTotal()}orderTotal(){let e=0;this.orders.forEach(n=>{e+=n.price*n.quantity}),this.total=e}orderConfirm(){this.router.navigate(["orders"],{relativeTo:this.route})}static#t=this.\u0275fac=function(n){return new(n||r)(t.GI1(p.e),t.GI1(l.E5),t.GI1(l.gV))};static#e=this.\u0275cmp=t.In1({type:r,selectors:[["app-shopping-cart"]],decls:23,vars:7,consts:[[1,"row","whole-section","d-flex"],[1,"col-xs-12","col-md-6"],[1,"cart-container","mt-3","d-flex","flex-column","align-items-center"],[1,"card","cart-section","mb-3"],["src","assets/images/checkout.jpg","alt","scandanavian furniture",1,"card-img-top","img-fluid"],[1,"card-body"],[1,"card-title"],["class","d-flex justify-content-center",4,"ngIf"],["class","d-flex justify-content-end m-2","style","gap: 0.5rem;",4,"ngIf"],[1,"order-container","mt-2","d-flex","flex-column","align-items-center"],[1,"card","order-section","mb-2"],[1,"coupon-code"],["class","card-text","style","margin-left:1rem ;",4,"ngIf"],[1,"card-footer"],[1,"btn","btn-primary",3,"disabled","click"],["style","margin-left: 1rem;",4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"table","table-striped","align-middle",2,"width","100%","margin","0.5rem","text-align","center"],["scope","col",2,"text-align","left"],["scope","col"],[4,"ngFor","ngForOf"],[1,"d-flex","flex-row","align-items-center","product-image-gap"],["height","40px",2,"border-radius","0.5rem","border","0.2px solid black",3,"src"],[1,"product-name"],[1,"material-symbols-outlined","quantity-symbol",3,"click"],[2,"margin","0.65rem","cursor","default"],[1,"material-symbols-outlined","quantity-symbol",3,"disabled","click"],[1,"material-symbols-outlined",2,"cursor","pointer","text-decoration","none","color","inherit","margin-top","0.45rem",3,"click"],[1,"d-flex","justify-content-end","m-2",2,"gap","0.5rem"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-success",3,"click"],[1,"d-flex","flex-row","align-items-center",2,"gap","1rem"],["height","50px",2,"border-radius","0.5rem","border","0.2px solid black",3,"src"],[1,"card-text",2,"margin-left","1rem"],[2,"margin-left","1rem"]],template:function(n,i){1&n&&(t.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.wR5(4,"img",4),t.I0R(5,"div",5)(6,"h5",6),t.OEk(7),t.C$Y(),t.yuY(8,x,14,1,"div",7)(9,I,5,0,"div",8),t.C$Y()()()(),t.I0R(10,"div",1)(11,"div",9)(12,"div",10)(13,"div",5)(14,"h5",6),t.OEk(15,"Order Summary"),t.C$Y(),t.yuY(16,Y,16,1,"div",7),t.C$Y(),t.I0R(17,"div",11),t.yuY(18,b,2,0,"p",12),t.I0R(19,"div",13)(20,"button",14),t.qCj("click",function(){return i.orderConfirm()}),t.OEk(21,"Confirm Order"),t.C$Y(),t.yuY(22,R,2,1,"span",15),t.C$Y()()()()()()),2&n&&(t.yG2(7),t.oRS(" ",i.cart.length>0?"Your Shopping Cart":"Your shopping cart is empty, time to get busy!"," "),t.yG2(),t.E7m("ngIf",i.cart.length>0),t.yG2(),t.E7m("ngIf",i.cart.length>0),t.yG2(7),t.E7m("ngIf",i.orders.length>0),t.yG2(2),t.E7m("ngIf",0==i.orders.length),t.yG2(2),t.E7m("disabled",0==i.orders.length),t.yG2(2),t.E7m("ngIf",0!==i.orders.length))},dependencies:[s.ay,s.u_,s.oL],styles:[".product-name[_ngcontent-%COMP%]{margin-top:1rem}.material-symbols-outlined[_ngcontent-%COMP%]{text-decoration:none;color:inherit}.quantity-symbol[_ngcontent-%COMP%]{color:#8b0000;font-weight:700;font-size:.8em;border:1px solid grey;border-radius:1.3rem;cursor:pointer;outline-style:none}.quantity-symbol[_ngcontent-%COMP%]:hover{color:#fff;background-color:#000}@media (max-width: 768px){.card-body[_ngcontent-%COMP%]{font-size:.7rem}.card-title[_ngcontent-%COMP%]{font-size:1rem}.cart-section[_ngcontent-%COMP%], .order-section[_ngcontent-%COMP%]{width:350px}.product-image-gap[_ngcontent-%COMP%]{gap:.5rem}}@media (min-width: 992px){.whole-section[_ngcontent-%COMP%]{margin:1.2rem}.product-image-gap[_ngcontent-%COMP%]{gap:1rem}.order-section[_ngcontent-%COMP%]{width:550px}}"]})}return r})(),E=(()=>{class r{static#t=this.\u0275fac=function(n){return new(n||r)};static#e=this.\u0275mod=t.a4G({type:r});static#r=this.\u0275inj=t.s3X({imports:[g.k,s.MD,l.qQ.forChild([{path:"",component:$},{path:"orders",component:O}])]})}return r})()}}]);
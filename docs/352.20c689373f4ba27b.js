"use strict";(self.webpackChunkshopperApp=self.webpackChunkshopperApp||[]).push([[352],{6352:(I,u,r)=>{r.r(u),r.d(u,{AuthModule:()=>G});var e=r(4716),d=r(5128),m=r(4968),t=r(4496),p=r(9468),h=r(7056),g=r(1368);function f(n,c){1&n&&t.wR5(0,"app-loading-spinner")}function v(n,c){if(1&n&&(t.I0R(0,"div",6),t.OEk(1),t.C$Y()),2&n){const i=t.GaO();t.yG2(),t.cNF(i.error)}}function C(n,c){if(1&n){const i=t.KQA();t.I0R(0,"form",7,8),t.qCj("ngSubmit",function(){t.usT(i);const s=t.Gew(1),a=t.GaO();return t.CGJ(a.onSubmit(s))}),t.I0R(2,"div",9)(3,"label",10),t.OEk(4,"Email"),t.C$Y(),t.wR5(5,"input",11),t.C$Y(),t.I0R(6,"div",12)(7,"label",13),t.OEk(8,"Password"),t.C$Y(),t.wR5(9,"input",14),t.C$Y(),t.I0R(10,"div")(11,"button",15),t.OEk(12),t.C$Y(),t.OEk(13," | "),t.I0R(14,"button",16),t.qCj("click",function(){t.usT(i);const s=t.GaO();return t.CGJ(s.onSwitchMode())}),t.OEk(15),t.C$Y()()()}if(2&n){const i=t.Gew(1),o=t.GaO();t.yG2(11),t.E7m("disabled",!i.valid),t.yG2(),t.cNF(o.isLoginMode?"Log In":"Sign Up"),t.yG2(3),t.oRS("Switch to ",o.isLoginMode?"Sign Up":"Login","")}}let y=(()=>{class n{constructor(i,o){this.AuthService=i,this.router=o,this.isLoginMode=!1,this.isLoading=!1,this.error=null}onSwitchMode(){this.isLoginMode=!this.isLoginMode}onSubmit(i){if(!i.valid)return;let o;this.isLoading=!0;const s=i.value.email,a=i.value.password;o=this.isLoginMode?this.AuthService.login(s,a):this.AuthService.signUp(s,a),o.subscribe(l=>{this.isLoading=!1,this.error=null,this.router.navigate(["/products"]),console.log(l)},l=>{this.isLoading=!1,this.error=l}),i.reset()}static#t=this.\u0275fac=function(o){return new(o||n)(t.GI1(p.o),t.GI1(d.E5))};static#n=this.\u0275cmp=t.In1({type:n,selectors:[["app-auth"]],decls:8,vars:3,consts:[[1,"row"],["id","content",1,"col-xs-12","col-md-6","offset-md-3"],[2,"text-align","center"],[4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[1,"alert","alert-danger"],[3,"ngSubmit"],["authForm","ngForm"],[1,"form-group"],["for","email"],["type","text","id","email","ngModel","","email","","required","","name","email",1,"form-control"],[1,"form-group","mb-3"],["for","password"],["type","password","id","password","ngModel","","required","","minlength","6","name","password",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(o,s){1&o&&(t.I0R(0,"div",0)(1,"div",1)(2,"p"),t.OEk(3,"Sign up and login as an administrator!"),t.C$Y(),t.I0R(4,"div",2),t.yuY(5,f,1,0,"app-loading-spinner",3),t.C$Y(),t.yuY(6,v,2,1,"div",4)(7,C,16,3,"form",5),t.C$Y()()),2&o&&(t.yG2(5),t.E7m("ngIf",s.isLoading),t.yG2(),t.E7m("ngIf",s.error),t.yG2(),t.E7m("ngIf",!s.isLoading))},dependencies:[e.sz,e.ot,e.ue,e.u,e.eJ,e.El,e.Gc,e._G,e.SC,h.M,g.u_],styles:["@media (max-width: 768px){#content[_ngcontent-%COMP%]{margin-top:1.5rem}}"]})}return n})(),G=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#n=this.\u0275mod=t.a4G({type:n});static#o=this.\u0275inj=t.s3X({imports:[e.y,e.sl,m.k,d.qQ.forChild([{path:"",component:y}])]})}return n})()}}]);